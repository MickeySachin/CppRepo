// 25th September 2020
// Simple Banking Transaction System

class account
{
     protected:
          char *name;
          int accNo;
          char *accType;
          float balance;
     public:
          void getUserInfo(char *a, int b, char *c, float d)
          {
               name = a;
               accNo = b;
               accType = c;
               balance = d;
          }
          void deposit()
          {
               float tempBalance;
               cout << "Enter the amount to be deposited = ";
               cin >> tempBalance;
               balance += tempBalance;
               cout << "Amount deposited successfully! Your available Balance = " << balance << "\n\n";
          }
          void withdrawl()
          {
               float withdrawlBalance;
               cout << "Enter the amount to be withdrawn = ";
               cin >> withdrawlBalance;
               balance -= withdrawlBalance;
               cout << "Amount withdrawn successfully! Your available Balance = " << balance << "\n\n";
          }
          void putBalance()
          {
               cout << "Available Balance = " << balance << " INR\n\n";
          }
          void putInfo()
          {
               cout << "Name of Account Holder = " << name << endl;
               cout << "Account Number = " << accNo << endl;
               cout << "Type of Account = " << accType << endl;
               cout << "Available Balance = " << balance << " INR\n\n";
          }
};
class savingsAcc : public account
{
     protected:
          float rate, n, t, cmpndInt;
     public:
          float compoundInt()
          {
               cout << "Enter the Rate, number of times interest applied per unit time and time = ";
               cin >> rate >> n >> t;
               rate = rate/100;
               float x = 1.0 + (rate/n);
               cmpndInt = balance * pow(x,n*t);
               balance += cmpndInt;
               return balance;
          }
          void putCmpnd()
          {
               cout << "Compound Interest applied on your Balance = " << cmpndInt << endl;
          }

};
class currentAcc : public account
{
     protected:
          int chequeNo;
     public:
          void chequeWithdrawl()
          {
               float withdrawlBalance;
               cout << "Enter your cheque number = ";
               cin >> chequeNo;
               cout << "Enter amount to be withdrawn = ";
               cin >> withdrawlBalance;
               balance -= withdrawlBalance;
               cout << "Amount withdrawn successfully! Your available Balance = " << balance << "\n\n";
          }
          float MaB()
          {
               if(balance >=2500 && balance < 5000)
                    return balance -= 100;
               else if(balance >= 1000 && balance < 2500)
                    return balance -= 150;
               else if(balance >=500 && balance < 1000)
                    return balance -= 200;
               else if(balance >=100 && balance < 500)
                    return balance -= 250;
               else if(balance >=0 && balance < 100)
                    return balance -= 350;
               else
                    return balance;
          }
          void putMaB()
          {
               cout << "Your Monthly Average Balance = 5000 INR" << endl;
               cout << "You're available balance after penalty = " << MaB() << endl;
          }
};
int main()
{
     char x;
     savingsAcc a1;
     currentAcc a2;
     a1.getUserInfo("Sachin", 7770008, "Savings", 25000);
     a2.getUserInfo("Rupender", 4515555, "Current", 2500);
     cout << "What's your Account type? Enter 's' for Savings while 'c' for Current Account = ";
     cin >> x;
     if(x == 's')
     {
          int x;
          while(x != 6)
               {
                   cout << "Enter the following number for operations you want to perform" << endl;
                   cout << "1. To display account holder information" << endl;
                   cout << "2. To deposit money\n";
                   cout << "3. To comply compound interest\n";
                   cout << "4. To withdraw money\n";
                   cout << "5. To inquiry of available amount\n";
                   cout << "6. To exit\nEnter the desired number = ";
                   cin >> x;
                   cout << "\n";
                   switch(x)
                   {
                        case 1:
                             {
                                  a1.putInfo();
                                  break;
                             }
                             case 2:
                              {
                                   a1.deposit();
                                   break;
                              }
                             case 3:
                              {
                                   a1.compoundInt();
                                   a1.putCmpnd();
                                   a1.putBalance();
                                   break;
                              }
                              case 4:
                              {
                                   a1.withdrawl();
                                   break;
                              }
                              case 5:
                              {
                                   a1.putBalance();
                                   break;
                              }
                              case 6:
                              {
                                   cout << "Thank you for using our Banking Services...\n\n";
                                    exit(0);
                                    break;
                              }
                              default:
                              {
                                   cout << "Invalid Choice!";
                              }
                    }

          }
     }
     else if(x == 'c')
     {
          int x;
          while(x != 7)
               {
                   cout << "Enter the following number for operations you want to perform" << endl;
                   cout << "1. To display account holder information" << endl;
                   cout << "2. To deposit money\n";
                   cout << "3. To withdraw money\n";
                   cout << "4. To withdraw money by cheque\n";
                   cout << "5. To inquiry of available amount\n";
                   cout << "6. To check Monthly Average Balance\n";
                   cout << "7. To exit\nEnter the desired number = ";
                   cin >> x;
                   switch(x)
                   {
                        case 1 :
                             {
                                  a2.putInfo();
                                  break;
                             }
                             case 2:
                              {
                                   a2.deposit();
                                   break;
                              }
                              case 3:
                              {
                                   a2.withdrawl();
                                   break;
                              }
                              case 4:
                              {
                                   a2.chequeWithdrawl();
                                   break;
                              }
                              case 5:
                              {
                                   a2.putBalance();
                                   break;
                              }
                              case 6:
                              {
                                   a2.MaB();
                                   a2.putMaB();
                                   break;
                              }
                              case 7:
                              {
                                    exit(0);
                                    break;
                              }
                              default:
                              {
                                   cout << "Invalid Choice!";
                              }
                    }

          }
     }
}